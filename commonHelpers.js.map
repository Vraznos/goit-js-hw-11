{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["const API_KEY = '44426411-2b9aaab226d67ab5863731517'; // KEY\n\nexport async function searchImages(query) {\n  const url = `https://pixabay.com/api/?key=${API_KEY}&q=${encodeURIComponent(\n    query\n  )}&image_type=photo&orientation=horizontal&safesearch=true`;\n\n  try {\n    const response = await fetch(url);\n    const data = await response.json();\n    return data.hits;\n  } catch (error) {\n    console.error('Error fetching images:', error);\n    throw error;\n  }\n}\n","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nlet lightbox;\n\nexport function displayImages(images) {\n  const gallery = document.getElementById('gallery');\n  gallery.innerHTML = images\n    .map(\n      image => `\n        <li class=\"gallery-item\">\n            <a href=\"${image.largeImageURL}\" class=\"gallery-link\">\n                <img src=\"${image.webformatURL}\" alt=\"${image.tags}\">\n            </a>\n            <div class=\"info\">\n                <p><strong>Likes:</strong> ${image.likes}</p>\n                <p><strong>Views:</strong> ${image.views}</p>\n                <p><strong>Comments:</strong> ${image.comments}</p>\n                <p><strong>Downloads:</strong> ${image.downloads}</p>\n            </div>\n        </li>\n    `\n    )\n    .join('');\n\n  if (lightbox) {\n    lightbox.refresh();\n  } else {\n    lightbox = new SimpleLightbox('.gallery a', {\n      captionsData: 'alt',\n      captionDelay: 250,\n    });\n  }\n}\nexport function clearImages() {\n  const gallery = document.getElementById('gallery');\n  while (gallery.firstChild) {\n    gallery.removeChild(gallery.firstChild);\n  }\n}\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport { searchImages } from './js/pixabay-api';\nimport { displayImages, clearImages } from './js/render-functions';\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  const searchForm = document.getElementById('search-form');\n  const searchInput = document.getElementById('search-input');\n  const loader = document.getElementById('loader');\n\n  searchForm.addEventListener('submit', async event => {\n    event.preventDefault();\n    const query = searchInput.value.trim();\n\n    clearImages();\n\n    if (query === '') {\n      iziToast.error({\n        title: 'Error',\n        message: 'Search query cannot be empty!',\n      });\n      return;\n    }\n\n    loader.style.display = 'block';\n\n    try {\n      const images = await searchImages(query);\n      if (images.length === 0) {\n        iziToast.error({\n          title: 'Sorry',\n          message:\n            'There are no images matching your search query. Please try again!',\n        });\n      } else {\n        displayImages(images);\n      }\n    } catch (error) {\n      iziToast.error({\n        title: 'Error',\n        message: 'Failed to fetch images. Please try again later.',\n      });\n    } finally {\n      loader.style.display = 'none';\n    }\n  });\n});\n"],"names":["API_KEY","searchImages","query","url","error","lightbox","displayImages","images","gallery","image","SimpleLightbox","clearImages","searchForm","searchInput","loader","event","iziToast"],"mappings":"wvBAAA,MAAMA,EAAU,qCAET,eAAeC,EAAaC,EAAO,CACxC,MAAMC,EAAM,gCAAgCH,CAAO,MAAM,mBACvDE,CACD,CAAA,2DAED,GAAI,CAGF,OADa,MADI,MAAM,MAAMC,CAAG,GACJ,QAChB,IACb,OAAQC,EAAO,CACd,cAAQ,MAAM,yBAA0BA,CAAK,EACvCA,CACP,CACH,CCZA,IAAIC,EAEG,SAASC,EAAcC,EAAQ,CACpC,MAAMC,EAAU,SAAS,eAAe,SAAS,EACjDA,EAAQ,UAAYD,EACjB,IACCE,GAAS;AAAA;AAAA,uBAEQA,EAAM,aAAa;AAAA,4BACdA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA;AAAA;AAAA,6CAGrBA,EAAM,KAAK;AAAA,6CACXA,EAAM,KAAK;AAAA,gDACRA,EAAM,QAAQ;AAAA,iDACbA,EAAM,SAAS;AAAA;AAAA;AAAA,KAI3D,EACA,KAAK,EAAE,EAENJ,EACFA,EAAS,QAAO,EAEhBA,EAAW,IAAIK,EAAe,aAAc,CAC1C,aAAc,MACd,aAAc,GACpB,CAAK,CAEL,CACO,SAASC,GAAc,CAC5B,MAAMH,EAAU,SAAS,eAAe,SAAS,EACjD,KAAOA,EAAQ,YACbA,EAAQ,YAAYA,EAAQ,UAAU,CAE1C,CClCA,SAAS,iBAAiB,mBAAoB,IAAM,CAClD,MAAMI,EAAa,SAAS,eAAe,aAAa,EAClDC,EAAc,SAAS,eAAe,cAAc,EACpDC,EAAS,SAAS,eAAe,QAAQ,EAE/CF,EAAW,iBAAiB,SAAU,MAAMG,GAAS,CACnDA,EAAM,eAAc,EACpB,MAAMb,EAAQW,EAAY,MAAM,KAAI,EAIpC,GAFAF,IAEIT,IAAU,GAAI,CAChBc,EAAS,MAAM,CACb,MAAO,QACP,QAAS,+BACjB,CAAO,EACD,MACD,CAEDF,EAAO,MAAM,QAAU,QAEvB,GAAI,CACF,MAAMP,EAAS,MAAMN,EAAaC,CAAK,EACnCK,EAAO,SAAW,EACpBS,EAAS,MAAM,CACb,MAAO,QACP,QACE,mEACZ,CAAS,EAEDV,EAAcC,CAAM,CAEvB,MAAe,CACdS,EAAS,MAAM,CACb,MAAO,QACP,QAAS,iDACjB,CAAO,CACP,QAAc,CACRF,EAAO,MAAM,QAAU,MACxB,CACL,CAAG,CACH,CAAC"}